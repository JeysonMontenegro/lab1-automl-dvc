schema: '2.0'
stages:
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: params.yaml
      hash: md5
      md5: 16816656aad2d6b37c8008f280a38d19
      size: 593
    - path: src/preprocess.py
      hash: md5
      md5: e7f4081036f4625fd3433837c3ea3fc4
      size: 2294
    params:
      params.yaml:
        data.random_state: 42
        data.raw_path: data/dataset_v4.csv
        data.target: MedHouseVal
        data.test_size: 0.2
    outs:
    - path: data/processed.npz
      hash: md5
      md5: 6a4a8e36a5c3cd715723eb2be01a3fa4
      size: 1637890
    - path: models/preprocessor.joblib
      hash: md5
      md5: 34e8387fb9556310f5ad7931f334076c
      size: 2613
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed.npz
      hash: md5
      md5: 6a4a8e36a5c3cd715723eb2be01a3fa4
      size: 1637890
    - path: params.yaml
      hash: md5
      md5: 16816656aad2d6b37c8008f280a38d19
      size: 593
    - path: src/train.py
      hash: md5
      md5: 0dd55c80bc5f5a8e02ab0a07069ad811
      size: 2776
    params:
      params.yaml:
        models:
          linear_regression:
            type: linear_regression
          random_forest:
            type: random_forest
            n_estimators: 150
            max_depth: 8
            random_state: 42
          gradient_boosting:
            type: gradient_boosting
            n_estimators: 200
            learning_rate: 0.1
            max_depth: 3
            random_state: 42
    outs:
    - path: models/best_model.joblib
      hash: md5
      md5: 6b95fe70c344f2b7a4061d49011c9ccb
      size: 272488
    - path: models/models_results.json
      hash: md5
      md5: dcb7c184467715a29b7b63c24f6dcc68
      size: 370
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed.npz
      hash: md5
      md5: 6a4a8e36a5c3cd715723eb2be01a3fa4
      size: 1637890
    - path: models/best_model.joblib
      hash: md5
      md5: 6b95fe70c344f2b7a4061d49011c9ccb
      size: 272488
    - path: models/models_results.json
      hash: md5
      md5: dcb7c184467715a29b7b63c24f6dcc68
      size: 370
    - path: src/evaluate.py
      hash: md5
      md5: 18b88beae61f972b33f2d9f1b6ffbe5d
      size: 1661
    outs:
    - path: metrics.json
      hash: md5
      md5: e69a99b2353c7cffa798c5e9a75e6f88
      size: 592
